#!/usr/bin/python

import sys
import os
import subprocess
import socket

fuzz = ""

for current in range(300):
	fuzz += ("A" * 10)
	print "Fuzzing with " + str(len(fuzz)) + " bytes..."
	
	server = socket.socket(socket.AF_INET, socket.SOCK_STREAM)
	try:	
		server.connect(("127.0.0.1", 9999))
	except socket.error, e:
		print "Failed to connect to server.  Port not open on remote host";
		exit(0)	

	server.recv(1024)
	server.send(fuzz)
	server.recv(1024)
	server.send(fuzz)
	server.recv(1024)
	server.send(fuzz)
	server.recv(1024)

	server.close() 

print "Finished fuzzing.  No undefined behavior found."
